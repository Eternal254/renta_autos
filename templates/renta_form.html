{% extends 'base.html' %}

{% block title %}Nueva renta - Renta de Autos{% endblock %}

{% block content %}
<h2>Nueva renta</h2>
{% if error %}
  <div class="alert alert-danger">{{ error }}</div>
{% endif %}
<form method="post">
  <div class="mb-3">
    <label class="form-label">Auto</label>
    <select class="form-select" name="auto_id" required>
      <option value="" selected>Seleccione un auto disponible</option>
      {% for auto in autos %}
        <option value="{{ auto._id }}">{{ auto.marca }} {{ auto.modelo }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Cliente</label>
    <select class="form-select" name="cliente_id" required>
      <option value="" selected>Seleccione un cliente</option>
      {% for c in clientes %}
        <option value="{{ c._id }}">{{ c.nombre }} {{ c.apellido }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Fecha de inicio</label>
    <input type="date" class="form-control" name="fecha_inicio" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Fecha de fin (opcional)</label>
    <input type="date" class="form-control" name="fecha_fin">
  </div>
  <div class="mb-3">
    <label class="form-label">Costo</label>
    <input type="number" step="0.01" class="form-control" name="costo" required>
  </div>
  <button type="submit" class="btn btn-success">Registrar</button>
  <a class="btn btn-secondary" href="{{ url_for('listar_rentas_html') }}">Cancelar</a>
</form>
{% endblock %}